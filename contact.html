<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- SEO Meta Tags -->
  <title>Contact | Thee Cigar Maestro - Premium Cigar Consulting Services</title>
  <meta name="description" content="Contact Thee Cigar Maestro for premium cigar consulting and education services. Reach out for inquiries about cigar expertise, lounge consulting, or educational programs." />
  <meta name="keywords" content="cigar consulting, cigar education, premium cigars, cigar expert, lounge consulting" />
  <link rel="canonical" href="https://theecigarmaestro.com/contact" />
  
  <!-- Open Graph Tags -->
  <meta property="og:title" content="Contact | Thee Cigar Maestro" />
  <meta property="og:description" content="Get in touch with premium cigar experts for consulting and education services." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://theecigarmaestro.com/contact" />
  <meta property="og:image" content="https://theecigarmaestro.com/images/og-image.jpg" />
  
  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Contact | Thee Cigar Maestro" />
  <meta name="twitter:description" content="Get in touch with premium cigar experts for consulting and education services." />
  <meta name="twitter:image" content="https://theecigarmaestro.com/images/twitter-image.jpg" />
  
  <!-- Favicon -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  
  <!-- Preload Critical Resources -->
  <link rel="preload" href="style.css" as="style" />
  <link rel="stylesheet" href="style.css" />
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Thee Cigar Maestro",
    "url": "https://theecigarmaestro.com",
    "email": "info@theecigarmaestro.com",
    "contactPoint": {
      "@type": "ContactPoint",
      "contactType": "customer service",
      "email": "info@theecigarmaestro.com"
    },
    "description": "Premium cigar consulting and education services"
  }
  </script>
</head>
<body>
  <!-- Skip Link for Accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>
  
  <header role="banner">
    <h1>Thee Cigar Maestro</h1>
    <p class="tagline">The Art. The Ritual. The Maestro.</p>
  </header>

  <main id="main-content" class="contact-container" role="main">
    <section class="contact-intro">
      <h2>Contact the Maestro</h2>
      <div itemscope itemtype="https://schema.org/Organization">
        <p>
          Whether you're a cigar enthusiast, lounge owner, or curious aficionado â€”
          we'd love to hear from you. Use the form below or email us directly at 
          <a href="mailto:info@theecigarmaestro.com" itemprop="email">info@theecigarmaestro.com</a>.
        </p>
      </div>
    </section>

    <!-- Success Message -->
    <div id="success-message" class="message success-message" role="alert" aria-live="polite" style="display: none;">
      <strong>Thank you!</strong> Your message has been sent successfully. We'll get back to you soon.
    </div>

    <!-- Error Message -->
    <div id="error-message" class="message error-message" role="alert" aria-live="polite" style="display: none;">
      <strong>Error:</strong> There was a problem sending your message. Please try again.
    </div>

    <form action="https://formspree.io/f/movwgpel" method="POST" class="contact-form" novalidate>
      <fieldset>
        <legend class="sr-only">Contact Information</legend>
        
        <div class="form-group">
          <label for="name">Your Name *</label>
          <input 
            type="text" 
            id="name" 
            name="name" 
            required 
            maxlength="100"
            autocomplete="name"
            aria-describedby="name-error name-help"
            aria-invalid="false"
          />
          <div id="name-help" class="form-help">Please enter your full name</div>
          <div id="name-error" class="error-text" role="alert" aria-live="polite"></div>
        </div>

        <div class="form-group">
          <label for="email">Your Email *</label>
          <input 
            type="email" 
            id="email" 
            name="email" 
            required 
            maxlength="254"
            autocomplete="email"
            aria-describedby="email-error email-help"
            aria-invalid="false"
          />
          <div id="email-help" class="form-help">We'll use this to respond to your inquiry</div>
          <div id="email-error" class="error-text" role="alert" aria-live="polite"></div>
        </div>

        <div class="form-group">
          <label for="subject">Subject</label>
          <input 
            type="text" 
            id="subject" 
            name="subject" 
            maxlength="200"
            autocomplete="off"
            aria-describedby="subject-help"
          />
          <div id="subject-help" class="form-help">Brief description of your inquiry</div>
        </div>

        <div class="form-group">
          <label for="message">Your Message *</label>
          <textarea 
            id="message" 
            name="message" 
            rows="5" 
            required 
            maxlength="2000"
            aria-describedby="message-error message-help"
            aria-invalid="false"
          ></textarea>
          <div id="message-help" class="form-help">Tell us about your cigar needs or questions</div>
          <div id="message-error" class="error-text" role="alert" aria-live="polite"></div>
        </div>

        <button type="submit" class="submit-button" aria-describedby="submit-help">
          <span class="button-text">Send Message</span>
          <span class="loading-spinner" aria-hidden="true" style="display: none;">Sending...</span>
        </button>
        <div id="submit-help" class="form-help">All fields marked with * are required</div>
      </fieldset>
    </form>
  </main>

  <footer role="contentinfo">
    <p>&copy; 2025 Thee Cigar Maestro. All rights reserved.</p>
  </footer>

  <style>
    /* Additional styles for accessibility and UX improvements */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 6px;
      background: #000;
      color: #fff;
      padding: 8px;
      text-decoration: none;
      z-index: 1000;
      border-radius: 4px;
    }
    
    .skip-link:focus {
      top: 6px;
    }
    
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }
    
    .form-group {
      margin-bottom: 1.5rem;
    }
    
    .form-help {
      font-size: 0.875rem;
      color: #666;
      margin-top: 0.25rem;
    }
    
    .error-text {
      color: #d32f2f;
      font-size: 0.875rem;
      margin-top: 0.25rem;
      font-weight: 500;
    }
    
    .message {
      padding: 1rem;
      border-radius: 4px;
      margin-bottom: 1rem;
      border: 1px solid;
    }
    
    .success-message {
      background-color: #e8f5e8;
      color: #2e7d32;
      border-color: #4caf50;
    }
    
    .error-message {
      background-color: #ffeaea;
      color: #d32f2f;
      border-color: #f44336;
    }
    
    .contact-form input:focus,
    .contact-form textarea:focus {
      outline: 2px solid #1976d2;
      outline-offset: 2px;
    }
    
    .contact-form input[aria-invalid="true"],
    .contact-form textarea[aria-invalid="true"] {
      border-color: #d32f2f;
    }
    
    .submit-button {
      position: relative;
      min-height: 44px;
      min-width: 44px;
    }
    
    .submit-button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    
    .loading-spinner {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
    }
    
    fieldset {
      border: none;
      padding: 0;
      margin: 0;
    }
    
    /* High contrast mode support */
    @media (prefers-contrast: high) {
      .form-help {
        color: #000;
      }
    }
    
    /* Reduced motion support */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
  </style>

  <script>
    // Enhanced form validation and submission
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.querySelector('.contact-form');
      const submitButton = form.querySelector('.submit-button');
      const buttonText = submitButton.querySelector('.button-text');
      const loadingSpinner = submitButton.querySelector('.loading-spinner');
      const successMessage = document.getElementById('success-message');
      const errorMessage = document.getElementById('error-message');
      
      // Form validation
      function validateField(field) {
        const value = field.value.trim();
        const errorElement = document.getElementById(field.id + '-error');
        let isValid = true;
        let errorText = '';
        
        // Reset previous state
        field.setAttribute('aria-invalid', 'false');
        errorElement.textContent = '';
        
        if (field.hasAttribute('required') && !value) {
          isValid = false;
          errorText = 'This field is required';
        } else if (field.type === 'email' && value && !isValidEmail(value)) {
          isValid = false;
          errorText = 'Please enter a valid email address';
        } else if (field.hasAttribute('maxlength') && value.length > field.maxLength) {
          isValid = false;
          errorText = `Maximum ${field.maxLength} characters allowed`;
        }
        
        if (!isValid) {
          field.setAttribute('aria-invalid', 'true');
          errorElement.textContent = errorText;
        }
        
        return isValid;
      }
      
      function isValidEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
      }
      
      // Real-time validation
      form.querySelectorAll('input, textarea').forEach(field => {
        field.addEventListener('blur', () => validateField(field));
        field.addEventListener('input', () => {
          if (field.getAttribute('aria-invalid') === 'true') {
            validateField(field);
          }
        });
      });
      
      // Form submission
      form.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        // Hide previous messages
        successMessage.style.display = 'none';
        errorMessage.style.display = 'none';
        
        // Validate all fields
        const fields = form.querySelectorAll('input[required], textarea[required]');
        let isFormValid = true;
        
        fields.forEach(field => {
          if (!validateField(field)) {
            isFormValid = false;
          }
        });
        
        if (!isFormValid) {
          // Focus first invalid field
          const firstInvalidField = form.querySelector('[aria-invalid="true"]');
          if (firstInvalidField) {
            firstInvalidField.focus();
          }
          return;
        }
        
        // Show loading state
        submitButton.disabled = true;
        buttonText.style.display = 'none';
        loadingSpinner.style.display = 'inline';
        
        try {
          const formData = new FormData(form);
          const response = await fetch(form.action, {
            method: 'POST',
            body: formData,
            headers: {
              'Accept': 'application/json'
            }
          });
          
          if (response.ok) {
            successMessage.style.display = 'block';
            form.reset();
            successMessage.focus();
          } else {
            throw new Error('Form submission failed');
          }
        } catch (error) {
          errorMessage.style.display = 'block';
          errorMessage.focus();
          console.error('Form submission error:', error);
        } finally {
          // Reset button state
          submitButton.disabled = false;
          buttonText.style.display = 'inline';
          loadingSpinner.style.display = 'none';
        }
      });
    });
  </script>
</body>
</html>
