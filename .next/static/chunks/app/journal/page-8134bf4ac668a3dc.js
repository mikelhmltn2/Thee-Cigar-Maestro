(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[961],{8414:function(e,t,a){Promise.resolve().then(a.bind(a,6123))},6123:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var s=a(7437),l=a(2265),r=a(1414);let n="journal_entries_v1";function i(){let[e,t]=(0,l.useState)([]),[i,c]=(0,l.useState)({date:new Date().toISOString().slice(0,10),cigarName:"",wrapper:"",rating:4,notes:""}),[d,o]=(0,l.useState)(!1),[x,m]=(0,l.useState)(""),[u,h]=(0,l.useState)(""),[p,j]=(0,l.useState)(1);(0,l.useEffect)(()=>{let e=!0;return(async()=>{try{let s=(await a.e(476).then(a.bind(a,1476))).default.getLocal(n);e&&Array.isArray(s)&&t(s)}catch(e){}finally{e&&o(!0)}})(),()=>{e=!1}},[]);let g=async e=>{try{let t=await a.e(476).then(a.bind(a,1476));await t.default.setLocal(n,e),await t.default.setIndexedDB("userData",{id:"journal",data:e,updatedAt:Date.now()})}catch(e){}},N=async()=>{await g(e)},v=async()=>{if(!i.cigarName.trim()||!i.notes.trim())return;let a=[{id:`${Date.now()}`,...i},...e];t(a),await g(a),c({...i,cigarName:"",notes:""})},y=async a=>{let s=e.filter(e=>e.id!==a);t(s),await g(s)},b=(0,l.useMemo)(()=>e.filter(e=>(!u||e.wrapper===u)&&!(e.rating<p)&&(!x||!!(e.cigarName?.toLowerCase().includes(x.toLowerCase())||e.notes?.toLowerCase().includes(x.toLowerCase())))),[e,x,u,p]),w=(0,l.useMemo)(()=>0===b.length?0:Math.round(b.reduce((e,t)=>e+(t.rating||0),0)/b.length*10)/10,[b]);return(0,s.jsx)("div",{className:"min-h-screen pt-20 bg-gradient-to-br from-background-primary via-background-secondary to-background-accent",children:(0,s.jsx)("section",{className:"section-luxury",children:(0,s.jsxs)("div",{className:"container-luxury",children:[(0,s.jsx)(r.Vj,{children:(0,s.jsxs)("h1",{className:"text-luxury-heading mb-4",children:["Your ",(0,s.jsx)(r.he,{children:"Journal"})]})}),(0,s.jsx)(r.Vj,{delay:.1,children:(0,s.jsx)("p",{className:"text-luxury-body max-w-3xl",children:"Capture tasting notes, moments, and insights. Your entries are saved locally and never leave your device."})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-10",children:[(0,s.jsxs)(r.rQ,{variant:"premium",className:"p-6 lg:col-span-2",children:[(0,s.jsx)("h3",{className:"text-text-primary font-semibold mb-4",children:"New Entry"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-text-muted mb-2",children:"Date"}),(0,s.jsx)("input",{type:"date",value:i.date,onChange:e=>c({...i,date:e.target.value}),className:"input-luxury w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-text-muted mb-2",children:"Cigar"}),(0,s.jsx)("input",{type:"text",placeholder:"e.g., Cohiba Behike 52",value:i.cigarName,onChange:e=>c({...i,cigarName:e.target.value}),className:"input-luxury w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-text-muted mb-2",children:"Wrapper"}),(0,s.jsxs)("select",{value:i.wrapper,onChange:e=>c({...i,wrapper:e.target.value}),className:"input-luxury w-full",children:[(0,s.jsx)("option",{value:"",children:"Select wrapper"}),(0,s.jsx)("option",{children:"Maduro"}),(0,s.jsx)("option",{children:"Connecticut"}),(0,s.jsx)("option",{children:"Habano"}),(0,s.jsx)("option",{children:"Natural"}),(0,s.jsx)("option",{children:"Oscuro"}),(0,s.jsx)("option",{children:"Candela"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-text-muted mb-2",children:"Rating"}),(0,s.jsx)("input",{type:"range",min:1,max:5,step:1,value:i.rating,onChange:e=>c({...i,rating:parseInt(e.target.value,10)}),className:"w-full"}),(0,s.jsxs)("div",{className:"text-sm text-text-muted",children:[i.rating," / 5"]})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm text-text-muted mb-2",children:"Notes"}),(0,s.jsx)("textarea",{rows:5,placeholder:"Aroma, draw, burn, flavors, moments...",value:i.notes,onChange:e=>c({...i,notes:e.target.value}),className:"textarea-luxury w-full"})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,s.jsx)(r.o,{onClick:v,children:"Save Entry"}),(0,s.jsx)(r.o,{variant:"secondary",onClick:()=>c({...i,cigarName:"",notes:""}),children:"Clear"})]})]}),(0,s.jsxs)(r.rQ,{variant:"premium",className:"p-6",children:[(0,s.jsx)("h3",{className:"text-text-primary font-semibold mb-2",children:"Stats"}),(0,s.jsxs)("p",{className:"text-text-muted",children:["Entries: ",b.length]}),(0,s.jsxs)("p",{className:"text-text-muted",children:["Average Rating: ",w]}),(0,s.jsx)("div",{className:"mt-4 flex gap-3",children:(0,s.jsx)(r.o,{size:"sm",variant:"secondary",onClick:N,children:"Sync Now"})})]})]}),(0,s.jsxs)(r.rQ,{variant:"premium",className:"p-6 mt-6",children:[(0,s.jsx)("h3",{className:"text-text-primary font-semibold mb-4",children:"Filter & Search"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)("input",{placeholder:"Search (cigar or notes)",value:x,onChange:e=>m(e.target.value),className:"input-luxury w-full"}),(0,s.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"input-luxury w-full",children:[(0,s.jsx)("option",{value:"",children:"Any wrapper"}),(0,s.jsx)("option",{children:"Maduro"}),(0,s.jsx)("option",{children:"Connecticut"}),(0,s.jsx)("option",{children:"Habano"}),(0,s.jsx)("option",{children:"Natural"}),(0,s.jsx)("option",{children:"Oscuro"}),(0,s.jsx)("option",{children:"Candela"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-text-muted mb-2",children:"Min Rating"}),(0,s.jsx)("input",{type:"range",min:1,max:5,step:1,value:p,onChange:e=>j(parseInt(e.target.value,10)),className:"w-full"}),(0,s.jsxs)("div",{className:"text-sm text-text-muted",children:[p,"+"]})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsx)(r.o,{variant:"secondary",onClick:()=>{m(""),h(""),j(1)},children:"Reset"})})]})]}),(0,s.jsxs)("div",{className:"mt-6 space-y-6",children:[0===b.length&&(0,s.jsx)(r.rQ,{className:"p-6 text-text-muted",children:"No entries match your filters."}),b.map(e=>(0,s.jsxs)(r.rQ,{variant:"premium",className:"p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-text-primary",children:e.cigarName||"Untitled"}),(0,s.jsxs)("p",{className:"text-sm text-text-muted",children:[e.date," ",e.wrapper?`• ${e.wrapper}`:""," • ",e.rating,"/5"]})]}),(0,s.jsx)(r.o,{variant:"secondary",onClick:()=>y(e.id),children:"Delete"})]}),(0,s.jsx)("p",{className:"text-text-secondary mt-3 whitespace-pre-wrap",children:e.notes})]},e.id))]})]})})})}}},function(e){e.O(0,[351,660,117,744],function(){return e(e.s=8414)}),_N_E=e.O()}]);