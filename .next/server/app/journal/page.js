(()=>{var e={};e.id=961,e.ids=[961],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7277:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>o}),a(9045),a(8812),a(5866);var s=a(3191),r=a(8716),l=a(7922),n=a.n(l),i=a(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);a.d(t,c);let o=["",{children:["journal",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9045)),"/workspace/src/app/journal/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,8812)),"/workspace/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/workspace/src/app/journal/page.tsx"],x="/journal/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/journal/page",pathname:"/journal",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2803:(e,t,a)=>{Promise.resolve().then(a.bind(a,6049))},6049:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var s=a(326),r=a(7577),l=a(9714);function n(){let[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)({date:new Date().toISOString().slice(0,10),cigarName:"",wrapper:"",rating:4,notes:""}),[c,o]=(0,r.useState)(!1),[d,x]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),[p,h]=(0,r.useState)(1),g=async e=>{try{let t=await a.e(620).then(a.bind(a,1620));await t.default.setLocal("journal_entries_v1",e),await t.default.setIndexedDB("userData",{id:"journal",data:e,updatedAt:Date.now()})}catch(e){}},j=async()=>{await g(e)},v=async()=>{if(!n.cigarName.trim()||!n.notes.trim())return;let a=[{id:`${Date.now()}`,...n},...e];t(a),await g(a),i({...n,cigarName:"",notes:""})},N=async a=>{let s=e.filter(e=>e.id!==a);t(s),await g(s)},y=(0,r.useMemo)(()=>e.filter(e=>(!u||e.wrapper===u)&&!(e.rating<p)&&(!d||!!(e.cigarName?.toLowerCase().includes(d.toLowerCase())||e.notes?.toLowerCase().includes(d.toLowerCase())))),[e,d,u,p]),b=(0,r.useMemo)(()=>0===y.length?0:Math.round(y.reduce((e,t)=>e+(t.rating||0),0)/y.length*10)/10,[y]);return s.jsx("div",{className:"min-h-screen pt-20 bg-gradient-to-br from-background-primary via-background-secondary to-background-accent",children:s.jsx("section",{className:"section-luxury",children:(0,s.jsxs)("div",{className:"container-luxury",children:[s.jsx(l.Vj,{children:(0,s.jsxs)("h1",{className:"text-luxury-heading mb-4",children:["Your ",s.jsx(l.he,{children:"Journal"})]})}),s.jsx(l.Vj,{delay:.1,children:s.jsx("p",{className:"text-luxury-body max-w-3xl",children:"Capture tasting notes, moments, and insights. Your entries are saved locally and never leave your device."})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-10",children:[(0,s.jsxs)(l.rQ,{variant:"premium",className:"p-6 lg:col-span-2",children:[s.jsx("h3",{className:"text-text-primary font-semibold mb-4",children:"New Entry"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-text-muted mb-2",children:"Date"}),s.jsx("input",{type:"date",value:n.date,onChange:e=>i({...n,date:e.target.value}),className:"input-luxury w-full"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-text-muted mb-2",children:"Cigar"}),s.jsx("input",{type:"text",placeholder:"e.g., Cohiba Behike 52",value:n.cigarName,onChange:e=>i({...n,cigarName:e.target.value}),className:"input-luxury w-full"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-text-muted mb-2",children:"Wrapper"}),(0,s.jsxs)("select",{value:n.wrapper,onChange:e=>i({...n,wrapper:e.target.value}),className:"input-luxury w-full",children:[s.jsx("option",{value:"",children:"Select wrapper"}),s.jsx("option",{children:"Maduro"}),s.jsx("option",{children:"Connecticut"}),s.jsx("option",{children:"Habano"}),s.jsx("option",{children:"Natural"}),s.jsx("option",{children:"Oscuro"}),s.jsx("option",{children:"Candela"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-text-muted mb-2",children:"Rating"}),s.jsx("input",{type:"range",min:1,max:5,step:1,value:n.rating,onChange:e=>i({...n,rating:parseInt(e.target.value,10)}),className:"w-full"}),(0,s.jsxs)("div",{className:"text-sm text-text-muted",children:[n.rating," / 5"]})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-text-muted mb-2",children:"Notes"}),s.jsx("textarea",{rows:5,placeholder:"Aroma, draw, burn, flavors, moments...",value:n.notes,onChange:e=>i({...n,notes:e.target.value}),className:"textarea-luxury w-full"})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex gap-3",children:[s.jsx(l.o,{onClick:v,children:"Save Entry"}),s.jsx(l.o,{variant:"secondary",onClick:()=>i({...n,cigarName:"",notes:""}),children:"Clear"})]})]}),(0,s.jsxs)(l.rQ,{variant:"premium",className:"p-6",children:[s.jsx("h3",{className:"text-text-primary font-semibold mb-2",children:"Stats"}),(0,s.jsxs)("p",{className:"text-text-muted",children:["Entries: ",y.length]}),(0,s.jsxs)("p",{className:"text-text-muted",children:["Average Rating: ",b]}),s.jsx("div",{className:"mt-4 flex gap-3",children:s.jsx(l.o,{size:"sm",variant:"secondary",onClick:j,children:"Sync Now"})})]})]}),(0,s.jsxs)(l.rQ,{variant:"premium",className:"p-6 mt-6",children:[s.jsx("h3",{className:"text-text-primary font-semibold mb-4",children:"Filter & Search"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("input",{placeholder:"Search (cigar or notes)",value:d,onChange:e=>x(e.target.value),className:"input-luxury w-full"}),(0,s.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"input-luxury w-full",children:[s.jsx("option",{value:"",children:"Any wrapper"}),s.jsx("option",{children:"Maduro"}),s.jsx("option",{children:"Connecticut"}),s.jsx("option",{children:"Habano"}),s.jsx("option",{children:"Natural"}),s.jsx("option",{children:"Oscuro"}),s.jsx("option",{children:"Candela"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-text-muted mb-2",children:"Min Rating"}),s.jsx("input",{type:"range",min:1,max:5,step:1,value:p,onChange:e=>h(parseInt(e.target.value,10)),className:"w-full"}),(0,s.jsxs)("div",{className:"text-sm text-text-muted",children:[p,"+"]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(l.o,{variant:"secondary",onClick:()=>{x(""),m(""),h(1)},children:"Reset"})})]})]}),(0,s.jsxs)("div",{className:"mt-6 space-y-6",children:[0===y.length&&s.jsx(l.rQ,{className:"p-6 text-text-muted",children:"No entries match your filters."}),y.map(e=>(0,s.jsxs)(l.rQ,{variant:"premium",className:"p-6",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-text-primary",children:e.cigarName||"Untitled"}),(0,s.jsxs)("p",{className:"text-sm text-text-muted",children:[e.date," ",e.wrapper?`• ${e.wrapper}`:""," • ",e.rating,"/5"]})]}),s.jsx(l.o,{variant:"secondary",onClick:()=>N(e.id),children:"Delete"})]}),s.jsx("p",{className:"text-text-secondary mt-3 whitespace-pre-wrap",children:e.notes})]},e.id))]})]})})})}},9714:(e,t,a)=>{"use strict";a.d(t,{Vj:()=>n.default,he:()=>l.default,o:()=>s.default,rQ:()=>r.default});var s=a(8029),r=a(4347),l=a(8142);a(9750);var n=a(9746)},9045:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`/workspace/src/app/journal/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[404,773,238],()=>a(7277));module.exports=s})();